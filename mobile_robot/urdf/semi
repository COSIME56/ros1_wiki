<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="awrover">

	<!--link name="/* parent_link */"/>

	<joint name="/* joint_name */" type="/* joint_type */">
		<parent link="/* parent_link */"/>
		<child link="/* child_link */"/>
		<origin xyz="0 0 0" rpy="0 0 0"/>
		<axis xyz="0 0 0"/>
	</joint>

	<link name="/* child_link */"/-->
    <xacro:property name="base_mass"    value="5" /> <!-- in kg-->
    <xacro:property name="base_x_size"  value="0.2" /> 
    <xacro:property name="base_y_size"  value="0.3" /> 
    <xacro:property name="base_z_size"  value="0.1" />
     <xacro:property name="mass"  value="0.2" />

	<material name="wheel">
    	<color rgba="0.05 0.05 0.05 1.0"/>
  	</material>
    <link name="base_footprint"/>
 	<link name="base_link">
		<inertial>
			<origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
			<mass value="1.0"/>
			<inertia ixx="0.4" ixy="0.0" ixz="0.0"
					 iyy="0.4" iyz="0.0"
					 izz="0.2"/>
		</inertial>
		<visual>
		    <origin xyz="0.0 0 0.11" rpy="0 0 0"/>
			<geometry>
				<box size="0.320 0.241 0.0785"/>
			</geometry>
			<material name="grey">
	       		<color rgba="0 0 0 0.8"/>
	     	</material>
		</visual>
		<collision>
			<origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
			<geometry>
				<box size="0.0 0.0 0.0"/>
			</geometry>
		</collision>
	</link>
	

	<joint name="base_joint" type="fixed">
		<origin xyz="0.0 0.0 0.11" rpy="0.0 0.0 0.0"/>
		<parent link="base_footprint"/>
		<child link="base_link"/>
		<axis xyz="0.0 0.0 0.0"/>
	</joint>

        <!-- Camera -->
    <link name="camera_link">
        <collision>
			<origin xyz="0 .2 .11" rpy="0 0 0"/>
			<geometry>
				<box size="0.05 0.05 0.05"/>
			</geometry>
        </collision>

        <visual>
            <origin xyz="0 .3 .11" rpy="0 0 0"/>
            <geometry>
            <box size="0.05 0.05 0.05"/>
            </geometry>
            <material name="red">
            <color rgba="1 0 0 1"/>
            </material>
        </visual>

        <inertial>
            <mass value="1e-5" />
            <origin xyz="0 0 0" rpy="0 0 0"/>
			<inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
        </inertial>
    </link>

    
    <joint name="base_camera_joint" type="fixed">
        <parent link="base_link" />
        <child link="camera_link" />
    </joint>
	
 	<link name="laser_link">
		<visual>
		    <origin xyz="0 0 0.171" rpy="0 0 0"/>
			<geometry>
				<cylinder radius="0.035" length="0.04"/>
			</geometry>
			<material name="Black">
	       		<color rgba="0 0 0 1.0"/>
	     	</material>
		</visual>
			<inertial>
            <mass value="1e-5" />
            <origin xyz="0 0 0" rpy="0 0 0"/>
			<inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
        </inertial>
		 <collision>
			<origin xyz="0 0 0.171" rpy="0 0 0"/>
			<geometry>
				<cylinder radius="0.035" length="0.04"/>
			</geometry>
        </collision>
	</link>

    <joint name="base_laser" type="fixed">
        <parent link="base_link" />
        <child link="laser_link" />
    </joint>

	<link name="sonar_fl_link">
		<visual>
		    <origin xyz="0.160 0.09 0.11" rpy="0 0 0"/>
			<geometry>
				<box size="0.02 0.05 0.02"/>
			</geometry>
			<material name="Red">
	       		<color rgba="1 0 0 1.0"/>
	     	</material>
		</visual>	
	</link>

    <joint name="base_sonar_fl" type="fixed">
        <parent link="base_link" />
        <child link="sonar_fl_link" />
    </joint>

	<link name="sonar_fr_link">
		<visual>
		    <origin xyz="0.160 -0.09 0.11" rpy="0 0 0"/>
			<geometry>
				<box size="0.02 0.05 0.02"/>
			</geometry>
			<material name="Red">
	       		<color rgba="1 0 0 1.0"/>
	     	</material>
		</visual>	
	</link>

    <joint name="base_sonar_fr" type="fixed">
        <parent link="base_link" />
        <child link="sonar_fr_link" />
    </joint>

	<link name="rpi_link">
		<visual>
		    <origin xyz="-0.13 0.079 0.155" rpy="0 0 0"/>
			<geometry>
				<box size="0.14 0.08 0.02"/>
			</geometry>
			<material name="Green">
	       		<color rgba="0 1 0 1.0"/>
	     	</material>
		</visual>	
	</link>

    <joint name="base_rpi" type="fixed">
        <parent link="base_link" />
        <child link="rpi_link" />
    </joint>	
    

	<xacro:macro name="wheel" params="name x y z">
        <link name="wheel_${name}_link">
            <visual>
                <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>
                <geometry>
                    <cylinder radius="0.079" length="0.075"/>
                </geometry>
                <material name="Black">
                       <color rgba="0 0 0 1.0"/>
                 </material>
            </visual>
			 <inertial>
				<mass value="0.2" />
				<origin xyz="0 0 0" rpy="0 0 0"/>
				<inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
			</inertial>
			<collision>
				<origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
				<geometry>
					<!--mesh filename="package://mobile_robot/meshes/left_tire.stl" scale="0.005 0.005 0.005"/-->
					<cylinder radius="0.079" length="0.075"/>
				</geometry>
			</collision>
        </link>        
	     
        <joint name="wheel_${name}_joint" type="continuous">
            <!--rigin xyz="0.11 -0.17 0.11" rpy="1.570796 0 0"/-->
            <origin xyz="${x} ${y} ${z}" rpy="1.570796 0 0"/>
            <parent link="base_link" />
            <child link="wheel_${name}_link"/>
            <axis xyz="0.0 0.0 1"/>
        </joint>
        
    </xacro:macro>	
	
    <xacro:macro name="default_inertial" params="mass">
        <inertial>
                <mass value="${mass}" />
                <inertia ixx="1.0" ixy="0.0" ixz="0.0"
                         iyy="1.0" iyz="0.0"
                         izz="1.0" />
        </inertial>
    </xacro:macro>



    <xacro:wheel name="rear_right" x="-0.11" y="-0.17" z="0.11"/>
    <xacro:wheel name="front_right" x="0.11" y="-0.17" z="0.11"/>
    <xacro:wheel name="front_left" x="0.11" y="0.17" z="0.11"/>
    <xacro:wheel name="rear_left" x="-0.11" y="0.17" z="0.11"/>

    







</robot>
